<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Eng. Nicholas Gumbo | Governor of Siaya</title>
  <meta name="description" content="Campaign website for Eng. Nicholas Gumbo for Governor of Siaya County: vision, agenda, and a transparent sub-county dashboard." />
  <meta name="theme-color" content="#006600" />

  <!-- CSP (GitHub Pages friendly) -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 img-src 'self' data: https:;
                 style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
                 font-src https://fonts.gstatic.com data:;
                 script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
                 connect-src 'self' https:;
                 frame-src https://translate.google.com https://translate.googleapis.com;
                 base-uri 'self';
                 form-action 'self';
                 object-src 'none';
                 frame-ancestors 'none';
                 upgrade-insecure-requests">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      /* Kenya flag colors (common web hex) */
      --ke-black:#000000;
      --ke-red:#BB0000;
      --ke-green:#006600;
      --ke-white:#FFFFFF; /* :contentReference[oaicite:2]{index=2} */

      /* Siaya flag dominant colors (sampled from flag image) */
      --siaya-green:#48B038;
      --siaya-gold:#D08810;
      --siaya-black:#000000;
      --siaya-white:#FFFFFF; /* :contentReference[oaicite:3]{index=3} */

      /* Brand mapping */
      --brand: var(--ke-green);
      --brand2: var(--ke-red);
      --brand3: var(--siaya-gold);

      --bg:#070A10;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.08);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --muted2: rgba(255,255,255,.55);
      --border: rgba(255,255,255,.12);
      --shadow: 0 24px 60px rgba(0,0,0,.45);

      --radius: 18px;
      --radius2: 26px;
      --max: 1180px;

      --focus: 0 0 0 4px rgba(0,102,0,.35);
      --fz: 16px;
    }
    [data-theme="light"]{
      --bg:#f6f8ff;
      --card:#ffffff;
      --card2:#f1f5ff;
      --text:#0b1020;
      --muted: rgba(11,16,32,.72);
      --muted2: rgba(11,16,32,.55);
      --border: rgba(11,16,32,.12);
      --shadow: 0 22px 46px rgba(2,6,23,.12);
      --focus: 0 0 0 4px rgba(187,0,0,.25);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-size:var(--fz);
      line-height:1.55;
      color:var(--text);
      background:
        radial-gradient(1100px 700px at 12% 10%, rgba(72,176,56,.22), transparent 55%),
        radial-gradient(1000px 700px at 85% 18%, rgba(187,0,0,.18), transparent 55%),
        radial-gradient(900px 650px at 55% 85%, rgba(208,136,16,.14), transparent 58%),
        var(--bg);
      overflow-x:hidden;
    }
    a{ color:inherit; text-decoration:none; }
    a:hover{ text-decoration:underline; text-underline-offset:4px; }
    img{ max-width:100%; display:block; }

    .wrap{ max-width:var(--max); margin:0 auto; padding:0 18px; }
    .skip{ position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
    .skip:focus{
      left:16px; top:16px; width:auto; height:auto; overflow:visible;
      background:var(--card); border:1px solid var(--border);
      padding:10px 12px; border-radius:12px; box-shadow:var(--shadow);
      outline:none;
    }

    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(12px);
      background: linear-gradient(to bottom, rgba(0,0,0,.55), rgba(0,0,0,.12));
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    [data-theme="light"] header{
      background: linear-gradient(to bottom, rgba(246,248,255,.90), rgba(246,248,255,.65));
      border-bottom:1px solid rgba(11,16,32,.10);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 0; gap:12px;
    }
    .brand{
      display:flex; align-items:center; gap:12px; min-width:260px;
    }
    .logo{
      width:40px; height:40px; border-radius:14px;
      background: linear-gradient(135deg, var(--ke-black) 0 20%, var(--ke-red) 20% 45%, var(--ke-white) 45% 52%, var(--ke-green) 52% 100%);
      box-shadow: 0 18px 35px rgba(0,102,0,.25);
      border:1px solid rgba(255,255,255,.14);
    }
    [data-theme="light"] .logo{ border:1px solid rgba(11,16,32,.12); }

    .brand h1{
      font-size:14px; margin:0; letter-spacing:.2px;
      display:flex; flex-direction:column; line-height:1.15;
    }
    .brand h1 span:first-child{ font-weight:900; font-size:14px; }
    .brand h1 span:last-child{ font-weight:700; font-size:12px; color:var(--muted); }

    nav ul{
      list-style:none; margin:0; padding:0;
      display:flex; align-items:center; gap:8px; flex-wrap:wrap; justify-content:center;
    }
    nav a{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:14px;
      border:1px solid transparent; color:var(--muted); font-weight:750;
    }
    nav a:hover{
      text-decoration:none; border-color:rgba(255,255,255,.14);
      background:rgba(255,255,255,.06); color:var(--text);
    }
    [data-theme="light"] nav a:hover{
      border-color:rgba(11,16,32,.12);
      background:rgba(11,16,32,.04);
    }
    nav a[aria-current="page"]{
      background:linear-gradient(135deg, rgba(0,102,0,.25), rgba(187,0,0,.18));
      border-color:rgba(0,102,0,.28);
      color:var(--text);
    }

    .actions{ display:flex; align-items:center; gap:10px; justify-content:flex-end; min-width:260px; }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:10px 12px; border-radius:14px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text); font-weight:850;
      cursor:pointer; user-select:none;
    }
    .btn:hover{ background:rgba(255,255,255,.10); }
    [data-theme="light"] .btn{ background:#fff; }
    [data-theme="light"] .btn:hover{ background:rgba(11,16,32,.04); }
    .btn:focus{ outline:none; box-shadow:var(--focus); }

    .btn.primary{
      border-color: rgba(0,102,0,.35);
      background: linear-gradient(135deg, rgba(0,102,0,.45), rgba(187,0,0,.25));
    }
    .btn.primary:hover{ background: linear-gradient(135deg, rgba(0,102,0,.55), rgba(187,0,0,.30)); }

    .pill{
      display:inline-flex; align-items:center; gap:10px;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--muted); font-weight:750; white-space:nowrap;
    }

    section{ padding:18px 0; }
    .hero{ padding:44px 0 18px; }
    .heroGrid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:18px;
      align-items:stretch;
    }
    @media (max-width: 980px){ .heroGrid{ grid-template-columns:1fr; } .brand,.actions{ min-width:auto; } }

    .card{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    [data-theme="light"] .card{ background: linear-gradient(180deg, #ffffff, #f9fbff); }
    .cardPad{ padding:22px; }

    .headline{
      font-size: clamp(28px, 3.2vw, 46px);
      line-height:1.06;
      margin:10px 0 12px;
      letter-spacing:-.8px;
      font-weight:950;
    }
    .subhead{
      color:var(--muted);
      font-size: clamp(14px, 1.4vw, 17px);
      max-width: 72ch;
      margin:0 0 16px;
      font-weight:650;
    }

    .kpis{ display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:16px; }
    @media (max-width: 680px){ .kpis{ grid-template-columns:1fr; } nav ul{ justify-content:flex-start; } }
    .kpi{ border:1px solid var(--border); background:rgba(255,255,255,.06); border-radius:18px; padding:14px; }
    [data-theme="light"] .kpi{ background:rgba(11,16,32,.03); }
    .kpi .n{ font-size:22px; font-weight:950; letter-spacing:-.4px; }
    .kpi .l{ color:var(--muted); font-weight:700; font-size:12px; margin-top:4px; }

    /* HERO slideshow using your repo images (1.jpg..7.jpg) */
    .slideshow{
      min-height: 300px;
      border-radius: var(--radius2);
      border:1px solid var(--border);
      position:relative;
      overflow:hidden;
      background:#000;
    }
    .slide{
      position:absolute; inset:0;
      background-size:cover;
      background-position:center;
      opacity:0;
      transition: opacity .9s ease;
      filter: saturate(1.05) contrast(1.02);
    }
    .slide.on{ opacity:.90; }
    .overlay{
      position:absolute; inset:0;
      background:
        linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.65)),
        radial-gradient(900px 500px at 20% 20%, rgba(0,102,0,.30), transparent 55%),
        radial-gradient(900px 500px at 80% 20%, rgba(187,0,0,.24), transparent 55%),
        radial-gradient(900px 500px at 50% 90%, rgba(208,136,16,.20), transparent 58%);
    }
    .slideshow .badge{ position:absolute; left:16px; top:16px; }
    .slideshow .caption{
      position:absolute; left:16px; right:16px; bottom:16px;
      display:flex; flex-direction:column; gap:8px;
    }
    .caption .name{ font-weight:950; letter-spacing:-.4px; font-size:18px; }
    .caption .title{ color:var(--muted); font-weight:750; font-size:13px; }
    .caption .ctaRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:6px; }
    .mini{ font-size:12px; color:var(--muted2); font-weight:700; }

    .sectionTitle{ display:flex; align-items:flex-end; justify-content:space-between; gap:14px; margin:10px 0 12px; }
    .sectionTitle h2{ margin:0; font-size: clamp(20px, 2vw, 28px); letter-spacing:-.3px; font-weight:950; }
    .sectionTitle p{ margin:0; color:var(--muted); max-width:70ch; font-weight:650; font-size:13px; }

    .grid2{ display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
    @media (max-width: 900px){ .grid2{ grid-template-columns:1fr; } }

    .list{ margin:0; padding:0; list-style:none; display:flex; flex-direction:column; gap:10px; }
    .li{
      display:flex; gap:12px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      border-radius:18px; padding:14px;
      align-items:flex-start;
    }
    [data-theme="light"] .li{ background:rgba(11,16,32,.03); }
    .dot{
      width:10px; height:10px; border-radius:99px; margin-top:6px;
      background: var(--brand);
      box-shadow: 0 0 0 4px rgba(0,102,0,.12);
      flex:0 0 auto;
    }
    .li h3{ margin:0 0 4px; font-size:14px; font-weight:950; }
    .li p{ margin:0; color:var(--muted); font-weight:650; font-size:13px; }

    /* Dashboard */
    .dashTop{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between; margin-bottom:12px; }
    .controls{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    select, input[type="search"], input[type="text"], textarea{
      width:100%;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding:10px 12px;
      font: inherit;
      outline:none;
    }
    [data-theme="light"] select,
    [data-theme="light"] input[type="search"],
    [data-theme="light"] input[type="text"],
    [data-theme="light"] textarea{ background:#fff; }
    select:focus, input:focus, textarea:focus{ box-shadow:var(--focus); }
    label{ font-size:12px; color:var(--muted); font-weight:800; display:block; margin:0 0 6px; }

    .tableWrap{
      overflow:auto;
      border-radius:18px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
    }
    [data-theme="light"] .tableWrap{ background:rgba(11,16,32,.02); }
    table{ border-collapse:separate; border-spacing:0; width:100%; min-width:860px; }
    th, td{ text-align:left; padding:12px 12px; border-bottom:1px solid var(--border); font-size:13px; }
    th{
      position:sticky; top:0;
      background: rgba(0,0,0,.25);
      backdrop-filter: blur(10px);
      color: var(--muted);
      font-weight:950;
      letter-spacing:.2px;
    }
    [data-theme="light"] th{ background: rgba(246,248,255,.90); }
    tr:hover td{ background: rgba(255,255,255,.04); }
    [data-theme="light"] tr:hover td{ background: rgba(11,16,32,.03); }

    .tag{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      font-weight:900;
      font-size:12px;
      white-space:nowrap;
    }
    .tag.good{ border-color:rgba(0,102,0,.45); background:rgba(0,102,0,.14); }
    .tag.mid{ border-color:rgba(208,136,16,.45); background:rgba(208,136,16,.14); }
    .tag.low{ border-color:rgba(187,0,0,.45); background:rgba(187,0,0,.14); }

    .hr{ height:1px; background:var(--border); margin:18px 0; }

    footer{ padding:28px 0 40px; color:var(--muted); font-size:13px; }

    .toast{
      position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background:rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.14);
      color:#fff; padding:10px 12px; border-radius:14px;
      box-shadow:var(--shadow); opacity:0; pointer-events:none;
      transition: opacity .25s ease; max-width:min(560px, calc(100vw - 36px)); z-index:60;
      font-weight:750;
    }
    [data-theme="light"] .toast{ background:rgba(11,16,32,.70); }
    .toast.show{ opacity:1; }

    :focus-visible{ outline:none; box-shadow: var(--focus); border-radius:12px; }
  </style>
</head>

<body data-theme="dark">
  <a class="skip" href="#main">Skip to content</a>

  <header>
    <div class="wrap nav">
      <div class="brand" aria-label="Campaign brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>
          <span>Eng. Nicholas Gumbo</span>
          <span>Governor of Siaya ‚Ä¢ Campaign HQ</span>
        </h1>
      </div>

      <nav aria-label="Primary">
        <ul>
          <li><a href="#home" aria-current="page">Home</a></li>
          <li><a href="#vision">Vision</a></li>
          <li><a href="#dashboard">Sub-County Stats</a></li>
          <li><a href="#agenda">Agenda</a></li>
          <li><a href="#getinvolved">Get Involved</a></li>
        </ul>
      </nav>

      <div class="actions">
        <button class="btn" id="themeBtn" type="button" aria-label="Toggle theme">üåó Theme</button>
        <a class="btn primary" href="#getinvolved" role="button">Join the Movement</a>
      </div>
    </div>
  </header>

  <main id="main">
    <!-- HERO -->
    <section class="hero" id="home">
      <div class="wrap heroGrid">
        <article class="card">
          <div class="cardPad">
            <span class="pill">Kenya colors ‚Ä¢ Siaya identity ‚Ä¢ Evidence-first messaging</span>
            <h2 class="headline">A stronger, fairer Siaya‚Äîbuilt on delivery, transparency, and unity.</h2>
            <p class="subhead">
              This site is designed to be ‚Äúpremium‚Äù and data-driven. The dashboard uses a <strong>Campaign Strength Index (CSI)</strong>
              which is clearly labeled as internal/demo until you add verified sources (polls, project registers, reports).
            </p>

            <div class="kpis" aria-label="Top metrics">
              <div class="kpi">
                <div class="n">6</div>
                <div class="l">Sub-counties covered (Alego Usonga, Bondo, Gem, Rarieda, Ugenya, Ugunja)</div>
              </div>
              <div class="kpi">
                <div class="n">A+</div>
                <div class="l">Accessibility + mobile-first (fast on GitHub Pages)</div>
              </div>
              <div class="kpi">
                <div class="n">100%</div>
                <div class="l">Sources field included (publish proof, not rumors)</div>
              </div>
            </div>

            <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:14px;">
              <a class="btn primary" href="#dashboard">View Dashboard</a>
              <a class="btn" href="#agenda">Read Agenda</a>
            </div>

            <div class="mini" style="margin-top:12px;">
              Note: Do not publish fake ‚Äúleading‚Äù stats‚Äîpaste credible poll/source links in the table.
            </div>
          </div>
        </article>

        <aside class="card slideshow" aria-label="Campaign gallery slideshow">
          <div class="slide on" style="background-image:url('1.jpg')"></div>
          <div class="slide" style="background-image:url('2.jpg')"></div>
          <div class="slide" style="background-image:url('3.jpg')"></div>
          <div class="slide" style="background-image:url('4.jpg')"></div>
          <div class="slide" style="background-image:url('5.jpg')"></div>
          <div class="slide" style="background-image:url('6.jpg')"></div>
          <div class="slide" style="background-image:url('7.jpg')"></div>
          <div class="overlay" aria-hidden="true"></div>

          <div class="badge pill">From your repo images (1.jpg‚Äì7.jpg)</div>
          <div class="caption">
            <div class="name">Eng. Nicholas Gumbo</div>
            <div class="title">Governor of Siaya ‚Ä¢ People ‚Ä¢ Delivery ‚Ä¢ Integrity</div>
            <div class="ctaRow">
              <a class="btn primary" href="#getinvolved" role="button">Volunteer</a>
              <a class="btn" href="#vision" role="button">Our Vision</a>
            </div>
            <div class="mini">Tip: Add a campaign logo as <strong>logo.png</strong> and I‚Äôll wire it in.</div>
          </div>
        </aside>
      </div>
    </section>

    <!-- TRANSLATE -->
    <section>
      <div class="wrap">
        <div class="card">
          <div class="cardPad">
            <div class="sectionTitle" style="margin:0 0 10px;">
              <h2 style="margin:0;">Translate</h2>
              <p style="margin:0;">Google Translate widget for global visitors.</p>
            </div>
            <div id="google_translate_element" aria-label="Google Translate widget"></div>
            <div class="mini" style="margin-top:10px;">
              If translate doesn‚Äôt load, ensure your browser allows translate.google.com frames.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- VISION -->
    <section id="vision">
      <div class="wrap">
        <div class="sectionTitle">
          <h2>Vision for Siaya</h2>
          <p>Clear priorities + measurable outcomes in every sub-county.</p>
        </div>

        <div class="grid2">
          <div class="card">
            <div class="cardPad">
              <ul class="list">
                <li class="li">
                  <span class="dot" aria-hidden="true"></span>
                  <div>
                    <h3>Transparent service delivery</h3>
                    <p>Public project tracker: budgets, timelines, progress updates‚Äîmonthly reporting.</p>
                  </div>
                </li>
                <li class="li">
                  <span class="dot" aria-hidden="true" style="background:var(--ke-red); box-shadow:0 0 0 4px rgba(187,0,0,.12);"></span>
                  <div>
                    <h3>Jobs & enterprise</h3>
                    <p>Agriculture value chains, MSMEs, youth skills, and practical financing access.</p>
                  </div>
                </li>
                <li class="li">
                  <span class="dot" aria-hidden="true" style="background:var(--siaya-gold); box-shadow:0 0 0 4px rgba(208,136,16,.14);"></span>
                  <div>
                    <h3>Health, water, roads</h3>
                    <p>Primary care, reliable water points, and passable roads that unlock trade.</p>
                  </div>
                </li>
              </ul>
            </div>
          </div>

          <div class="card">
            <div class="cardPad">
              <h3 style="margin:0 0 10px; font-size:16px; font-weight:950;">Honest data policy</h3>
              <p class="subhead" style="margin:0 0 12px;">
                This dashboard supports strong campaigning *without* fake stats: you can show ‚Äúmomentum‚Äù and ‚Äúreadiness‚Äù
                while attaching sources. When you have credible polls, paste them in sources.
              </p>
              <div class="li">
                <span class="dot" aria-hidden="true" style="background:var(--ke-black); box-shadow:0 0 0 4px rgba(255,255,255,.10);"></span>
                <div>
                  <h3>What we will not do</h3>
                  <p>Publish invented polling numbers. If it‚Äôs a claim, it must have a source link.</p>
                </div>
              </div>
              <div class="hr"></div>
              <div class="mini">
                Siaya coverage: Alego Usonga, Bondo, Gem, Rarieda, Ugenya, Ugunja. :contentReference[oaicite:4]{index=4}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD -->
    <section id="dashboard">
      <div class="wrap">
        <div class="sectionTitle">
          <h2>Sub-County Dashboard</h2>
          <p>CSI = internal/demo until you provide verified poll/source links.</p>
        </div>

        <div class="card">
          <div class="cardPad">
            <div class="dashTop">
              <div class="controls" style="flex:1; min-width:260px;">
                <div style="min-width:260px; flex:1;">
                  <label for="metric">Metric</label>
                  <select id="metric">
                    <option value="csi">Campaign Strength Index (CSI)</option>
                    <option value="groundGame">Ground Game</option>
                    <option value="youthReach">Youth Reach</option>
                    <option value="womenReach">Women Reach</option>
                    <option value="messageClarity">Message Clarity</option>
                    <option value="volunteerNetwork">Volunteer Network</option>
                  </select>
                </div>
                <div style="min-width:260px; flex:1;">
                  <label for="search">Search sub-county</label>
                  <input id="search" type="search" placeholder="Type: Bondo, Gem..." />
                </div>
              </div>

              <div class="controls">
                <button class="btn" id="downloadJson" type="button">‚¨áÔ∏è Export JSON</button>
                <button class="btn" id="resetDemo" type="button">‚Ü©Ô∏è Reset Demo</button>
              </div>
            </div>

            <div class="grid2" style="margin-top:12px;">
              <div class="card" style="box-shadow:none;">
                <div class="cardPad">
                  <h3 style="margin:0 0 10px; font-size:16px; font-weight:950;">Chart</h3>
                  <canvas id="chart" height="170" aria-label="Metric chart" role="img"></canvas>
                  <div class="mini" style="margin-top:8px;">
                    You can replace any CSI numbers with your real internal metrics or attach poll sources when available.
                  </div>
                </div>
              </div>

              <div class="card" style="box-shadow:none;">
                <div class="cardPad">
                  <h3 style="margin:0 0 10px; font-size:16px; font-weight:950;">How to show ‚Äúleading‚Äù legally & credibly</h3>
                  <ul class="list">
                    <li class="li">
                      <span class="dot" aria-hidden="true"></span>
                      <div>
                        <h3>Use published polling only</h3>
                        <p>Paste links + methodology + dates in the Sources field.</p>
                      </div>
                    </li>
                    <li class="li">
                      <span class="dot" aria-hidden="true" style="background:var(--ke-red); box-shadow:0 0 0 4px rgba(187,0,0,.12);"></span>
                      <div>
                        <h3>Show momentum transparently</h3>
                        <p>CSI can reflect ground reports (volunteers, events, outreach) even without polls.</p>
                      </div>
                    </li>
                    <li class="li">
                      <span class="dot" aria-hidden="true" style="background:var(--siaya-gold); box-shadow:0 0 0 4px rgba(208,136,16,.14);"></span>
                      <div>
                        <h3>Keep it respectful</h3>
                        <p>Strong messaging is fine, but avoid fake numbers.</p>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="hr"></div>

            <h3 style="margin:0 0 10px; font-size:16px; font-weight:950;">Sub-county table (edit Sources/Notes)</h3>

            <div class="tableWrap">
              <table>
                <thead>
                  <tr>
                    <th>Sub-county</th>
                    <th>CSI</th>
                    <th>Ground Game</th>
                    <th>Youth Reach</th>
                    <th>Women Reach</th>
                    <th>Message</th>
                    <th>Volunteer Net</th>
                    <th>Status</th>
                    <th>Sources / Notes</th>
                  </tr>
                </thead>
                <tbody id="tbody"></tbody>
              </table>
            </div>

            <div class="mini" style="margin-top:10px;">
              Sub-counties: Alego Usonga, Bondo, Gem, Rarieda, Ugenya, Ugunja. :contentReference[oaicite:5]{index=5}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- AGENDA -->
    <section id="agenda">
      <div class="wrap">
        <div class="sectionTitle">
          <h2>Agenda</h2>
          <p>Practical deliverables that citizens can measure.</p>
        </div>

        <div class="grid2">
          <div class="card">
            <div class="cardPad">
              <ul class="list">
                <li class="li">
                  <span class="dot" aria-hidden="true"></span>
                  <div>
                    <h3>Service Delivery Tracker</h3>
                    <p>Project transparency portal and monthly progress updates.</p>
                  </div>
                </li>
                <li class="li">
                  <span class="dot" aria-hidden="true" style="background:var(--ke-red); box-shadow:0 0 0 4px rgba(187,0,0,.12);"></span>
                  <div>
                    <h3>Jobs, MSMEs, Agriculture</h3>
                    <p>Value-add chains, market access, and youth upskilling.</p>
                  </div>
                </li>
                <li class="li">
                  <span class="dot" aria-hidden="true" style="background:var(--siaya-gold); box-shadow:0 0 0 4px rgba(208,136,16,.14);"></span>
                  <div>
                    <h3>Health + Water + Roads</h3>
                    <p>Quick wins plus long-term infrastructure maintenance plan.</p>
                  </div>
                </li>
              </ul>
            </div>
          </div>

          <div class="card">
            <div class="cardPad">
              <h3 style="margin:0 0 10px; font-size:16px; font-weight:950;">Messaging pillars</h3>
              <p class="subhead" style="margin:0 0 10px;">
                Keep it simple: <strong>People ‚Ä¢ Delivery ‚Ä¢ Integrity</strong>. Add short stories from each sub-county.
              </p>
              <div class="li">
                <span class="dot" aria-hidden="true" style="background:var(--ke-black); box-shadow:0 0 0 4px rgba(255,255,255,.10);"></span>
                <div>
                  <h3>Respectful campaigning</h3>
                  <p>Win with ideas, evidence, and unity across Siaya.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GET INVOLVED -->
    <section id="getinvolved">
      <div class="wrap">
        <div class="sectionTitle">
          <h2>Get involved</h2>
          <p>Volunteer, host a meeting, or submit verified data sources for the dashboard.</p>
        </div>

        <div class="card">
          <div class="cardPad" style="display:grid; grid-template-columns:1.15fr .85fr; gap:14px;">
            <div>
              <h3 style="margin:0 0 8px; font-size:16px; font-weight:950;">Volunteer form (front-end demo)</h3>
              <p class="mini" style="margin:0 0 12px;">
                GitHub Pages is static‚Äîthis demo stores to your browser only. For real collection, connect a form service.
              </p>

              <div class="grid2" style="gap:12px;">
                <div>
                  <label for="name">Full name</label>
                  <input id="name" type="text" placeholder="Your name" autocomplete="name" />
                </div>
                <div>
                  <label for="phone">Phone</label>
                  <input id="phone" type="text" placeholder="+254..." autocomplete="tel" />
                </div>
              </div>

              <div style="margin-top:12px;">
                <label for="subcounty">Sub-county</label>
                <select id="subcounty">
                  <option>Alego Usonga</option>
                  <option>Bondo</option>
                  <option>Gem</option>
                  <option>Rarieda</option>
                  <option>Ugenya</option>
                  <option>Ugunja</option>
                </select>
              </div>

              <div style="margin-top:12px;">
                <label for="msg">How would you like to help?</label>
                <textarea id="msg" rows="4" placeholder="Volunteer, host meeting, share verified data sources, etc."></textarea>
              </div>

              <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
                <button class="btn primary" id="saveVolunteer" type="button">Save locally</button>
                <button class="btn" id="clearVolunteer" type="button">Clear</button>
              </div>

              <div class="mini" style="margin-top:10px;" id="volStatus" aria-live="polite"></div>
            </div>

            <div>
              <h3 style="margin:0 0 8px; font-size:16px; font-weight:950;">Contacts & Links</h3>
              <div class="li">
                <span class="dot" aria-hidden="true"></span>
                <div>
                  <h3>Campaign HQ</h3>
                  <p>Add official phone, email, office address, and socials here.</p>
                </div>
              </div>
              <div class="li" style="margin-top:10px;">
                <span class="dot" aria-hidden="true" style="background:var(--ke-red); box-shadow:0 0 0 4px rgba(187,0,0,.12);"></span>
                <div>
                  <h3>Press kit</h3>
                  <p>Upload PDFs: manifesto, bio, photos, policy briefs‚Äîthen link them.</p>
                </div>
              </div>
              <div class="li" style="margin-top:10px;">
                <span class="dot" aria-hidden="true" style="background:var(--siaya-gold); box-shadow:0 0 0 4px rgba(208,136,16,.14);"></span>
                <div>
                  <h3>Data sources</h3>
                  <p>Paste links to polls/reports in the dashboard table for credibility.</p>
                </div>
              </div>

              <div class="hr"></div>
              <div class="mini">
                Disclaimer: This is a template. Ensure compliance with electoral/advertising rules and avoid false claims.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <div class="hr"></div>
      <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:space-between; align-items:center;">
        <div>¬© <span id="year"></span> Eng. Nicholas Gumbo Campaign ‚Ä¢ Siaya County</div>
        <div class="mini">GitHub Pages ready ‚Ä¢ Kenya + Siaya colors ‚Ä¢ Dashboard + Sources</div>
      </div>
    </div>
  </footer>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <!-- Google Translate -->
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

  <script>
    // Google Translate
    function googleTranslateElementInit() {
      try{
        new google.translate.TranslateElement(
          { pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE },
          'google_translate_element'
        );
      }catch(e){}
    }

    const $ = (s, r=document) => r.querySelector(s);
    const $$ = (s, r=document) => [...r.querySelectorAll(s)];
    const toastEl = $("#toast");
    function toast(msg){
      toastEl.textContent = msg;
      toastEl.classList.add("show");
      setTimeout(()=>toastEl.classList.remove("show"), 2200);
    }

    // Theme
    const themeBtn = $("#themeBtn");
    function setTheme(t){
      document.body.setAttribute("data-theme", t);
      localStorage.setItem("theme", t);
    }
    themeBtn.addEventListener("click", ()=>{
      const t = document.body.getAttribute("data-theme") === "dark" ? "light" : "dark";
      setTheme(t); toast(`Theme: ${t}`);
    });
    (function initTheme(){ const t=localStorage.getItem("theme"); if(t) setTheme(t); })();

    // Slideshow (your images 1.jpg..7.jpg)
    const slides = $$(".slide");
    let si = 0;
    setInterval(()=>{
      slides[si].classList.remove("on");
      si = (si + 1) % slides.length;
      slides[si].classList.add("on");
    }, 4500);

    // Dashboard: CSI is NOT polling. It's internal/demo unless you add sources.
    // You can edit numbers and paste sources/notes in the table.
    const DEMO = [
      { name:"Alego Usonga", groundGame:86, youthReach:84, womenReach:82, messageClarity:85, volunteerNetwork:83, sources:[""], notes:"Internal/demo until you add verified sources." },
      { name:"Bondo",        groundGame:85, youthReach:83, womenReach:81, messageClarity:84, volunteerNetwork:82, sources:[""], notes:"Internal/demo until you add verified sources." },
      { name:"Gem",          groundGame:87, youthReach:85, womenReach:83, messageClarity:86, volunteerNetwork:84, sources:[""], notes:"Internal/demo until you add verified sources." },
      { name:"Rarieda",      groundGame:84, youthReach:82, womenReach:80, messageClarity:83, volunteerNetwork:81, sources:[""], notes:"Internal/demo until you add verified sources." },
      { name:"Ugenya",       groundGame:86, youthReach:84, womenReach:82, messageClarity:85, volunteerNetwork:83, sources:[""], notes:"Internal/demo until you add verified sources." },
      { name:"Ugunja",       groundGame:84, youthReach:82, womenReach:80, messageClarity:83, volunteerNetwork:81, sources:[""], notes:"Internal/demo until you add verified sources." },
    ];

    // CSI formula (weighted)
    function computeCSI(d){
      return Math.round(
        d.groundGame*0.26 +
        d.volunteerNetwork*0.22 +
        d.messageClarity*0.20 +
        d.youthReach*0.16 +
        d.womenReach*0.16
      );
    }

    const LS_KEY = "gumbo_siaya_dashboard_v2";
    function loadData(){
      const raw = localStorage.getItem(LS_KEY);
      if(!raw) return structuredClone(DEMO).map(d=>({...d, csi: computeCSI(d)}));
      try{
        const parsed = JSON.parse(raw);
        if(Array.isArray(parsed) && parsed.length){
          return parsed.map(d=>({ ...d, csi: computeCSI(d) }));
        }
        return structuredClone(DEMO).map(d=>({...d, csi: computeCSI(d)}));
      }catch(e){
        return structuredClone(DEMO).map(d=>({...d, csi: computeCSI(d)}));
      }
    }
    const state = { data: loadData(), metric:"csi", search:"" };
    function saveData(){ localStorage.setItem(LS_KEY, JSON.stringify(state.data, null, 2)); }

    const tbody = $("#tbody");
    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, m => ({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;" }[m]));
    }
    function statusTag(v){
      if(v >= 85) return `<span class="tag good">Very Strong</span>`;
      if(v >= 80) return `<span class="tag mid">Strong</span>`;
      return `<span class="tag low">Build More</span>`;
    }
    function rowHtml(item, idx){
      const src = (item.sources||[]).filter(Boolean).join(" | ");
      return `
        <tr data-name="${escapeHtml(item.name)}">
          <td><strong>${escapeHtml(item.name)}</strong></td>
          <td>${item.csi}</td>
          <td>${item.groundGame}</td>
          <td>${item.youthReach}</td>
          <td>${item.womenReach}</td>
          <td>${item.messageClarity}</td>
          <td>${item.volunteerNetwork}</td>
          <td>${statusTag(item.csi)}</td>
          <td>
            <div style="display:grid; gap:8px; min-width:340px;">
              <input type="text" placeholder="Paste source URLs (separate with | )"
                     value="${escapeHtml(src)}" data-idx="${idx}" data-field="sources" />
              <input type="text" placeholder="Notes / methodology"
                     value="${escapeHtml(item.notes||"")}" data-idx="${idx}" data-field="notes" />
            </div>
          </td>
        </tr>
      `;
    }
    function renderTable(){
      const q = state.search.trim().toLowerCase();
      const filtered = state.data.filter(d => d.name.toLowerCase().includes(q));
      tbody.innerHTML = filtered.map(d=>{
        const idx = state.data.findIndex(x=>x.name===d.name);
        return rowHtml(d, idx);
      }).join("");

      $$("input[data-field]", tbody).forEach(inp=>{
        inp.addEventListener("input", (e)=>{
          const idx = parseInt(e.target.getAttribute("data-idx"),10);
          const field = e.target.getAttribute("data-field");
          if(Number.isNaN(idx) || !field) return;

          if(field === "sources"){
            const parts = e.target.value.split("|").map(x=>x.trim()).filter(Boolean);
            state.data[idx].sources = parts;
          }else{
            state.data[idx][field] = e.target.value;
          }
          state.data[idx].csi = computeCSI(state.data[idx]);
          saveData();
          buildChart();
        });
      });
    }

    // Chart
    let chart;
    function metricLabel(key){
      return ({
        csi:"Campaign Strength Index (CSI)",
        groundGame:"Ground Game",
        youthReach:"Youth Reach",
        womenReach:"Women Reach",
        messageClarity:"Message Clarity",
        volunteerNetwork:"Volunteer Network"
      })[key] || key;
    }
    function buildChart(){
      const ctx = $("#chart");
      const labels = state.data.map(d=>d.name);
      const vals = state.data.map(d=>d[state.metric]);

      if(chart) chart.destroy();
      chart = new Chart(ctx, {
        type: "bar",
        data: {
          labels,
          datasets: [{
            label: metricLabel(state.metric),
            data: vals,
            borderWidth: 1,
            borderRadius: 10
          }]
        },
        options: {
          responsive:true,
          maintainAspectRatio:false,
          plugins:{ legend:{ display:true } },
          scales:{ y:{ beginAtZero:true, suggestedMax:100 } }
        }
      });
    }

    // Controls
    $("#metric").addEventListener("change", (e)=>{
      state.metric = e.target.value;
      buildChart();
      toast(`Metric: ${metricLabel(state.metric)}`);
    });
    $("#search").addEventListener("input", (e)=>{ state.search=e.target.value; renderTable(); });

    $("#downloadJson").addEventListener("click", ()=>{
      const payload = {
        generatedAt: new Date().toISOString(),
        county: "Siaya",
        note: "CSI is internal/demo unless you add verified sources (polls/reports).",
        data: state.data
      };
      const blob = new Blob([JSON.stringify(payload, null, 2)], {type:"application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url; a.download = "siaya-dashboard.json";
      document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(url);
      toast("Exported JSON");
    });

    $("#resetDemo").addEventListener("click", ()=>{
      if(!confirm("Reset to demo data? This overwrites your saved edits in this browser.")) return;
      state.data = structuredClone(DEMO).map(d=>({...d, csi: computeCSI(d)}));
      saveData(); renderTable(); buildChart(); toast("Reset to demo");
    });

    // Volunteer local save
    const volStatus = $("#volStatus");
    const VKEY = "gumbo_volunteer_v1";
    $("#saveVolunteer").addEventListener("click", ()=>{
      const v = {
        name: $("#name").value.trim(),
        phone: $("#phone").value.trim(),
        subcounty: $("#subcounty").value,
        msg: $("#msg").value.trim(),
        savedAt: new Date().toISOString()
      };
      localStorage.setItem(VKEY, JSON.stringify(v, null, 2));
      volStatus.textContent = "Saved locally on this device (demo).";
      toast("Saved");
    });
    $("#clearVolunteer").addEventListener("click", ()=>{
      $("#name").value=""; $("#phone").value=""; $("#msg").value="";
      localStorage.removeItem(VKEY);
      volStatus.textContent = "Cleared.";
      toast("Cleared");
    });

    // Init
    $("#year").textContent = new Date().getFullYear();
    renderTable();
    buildChart();
  </script>
</body>
</html>
